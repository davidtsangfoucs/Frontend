{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useGoogleUser = void 0;\nvar react_1 = require(\"react\");\nvar GApiProvider_1 = require(\"./GApiProvider\");\nvar useGoogleAuth_1 = require(\"./useGoogleAuth\");\n/**\n * A declarative wrapper around the `GoogleUser` object described here {@link https://developers.google.com/identity/sign-in/web/reference#users}. This automatically listens for changes to the `currentUser`\n * and updates the return value.\n *\n */\nvar useGoogleUser = function () {\n  var _a;\n  var gApiError = (GApiProvider_1.useGApiContext() || {}).error;\n  var _b = useGoogleAuth_1.useGoogleAuth(),\n    googleAuth = _b.googleAuth,\n    googleAuthError = _b.error;\n  var _c = react_1.useState(((_a = googleAuth === null || googleAuth === void 0 ? void 0 : googleAuth.currentUser) === null || _a === void 0 ? void 0 : _a.get()) || null),\n    currentUser = _c[0],\n    setCurrentUser = _c[1];\n  var _d = react_1.useState(null),\n    error = _d[0],\n    setError = _d[1];\n  // Listen for changes in `currentUser`.\n  react_1.useEffect(function () {\n    if (googleAuth) {\n      try {\n        googleAuth.currentUser.listen(function (user) {\n          return setCurrentUser(user);\n        });\n      } catch (e) {\n        setError(e);\n      }\n    }\n  }, [googleAuth]);\n  return {\n    error: gApiError || googleAuthError || error,\n    currentUser: currentUser\n  };\n};\nexports.useGoogleUser = useGoogleUser;","map":{"version":3,"names":["Object","defineProperty","exports","value","useGoogleUser","react_1","require","GApiProvider_1","useGoogleAuth_1","_a","gApiError","useGApiContext","error","_b","useGoogleAuth","googleAuth","googleAuthError","_c","useState","currentUser","get","setCurrentUser","_d","setError","useEffect","listen","user","e"],"sources":["/Users/david/Documents/GitHub/web-api/client/node_modules/react-gapi-auth2/dist/useGoogleUser.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useGoogleUser = void 0;\nvar react_1 = require(\"react\");\nvar GApiProvider_1 = require(\"./GApiProvider\");\nvar useGoogleAuth_1 = require(\"./useGoogleAuth\");\n/**\n * A declarative wrapper around the `GoogleUser` object described here {@link https://developers.google.com/identity/sign-in/web/reference#users}. This automatically listens for changes to the `currentUser`\n * and updates the return value.\n *\n */\nvar useGoogleUser = function () {\n    var _a;\n    var gApiError = (GApiProvider_1.useGApiContext() || {}).error;\n    var _b = useGoogleAuth_1.useGoogleAuth(), googleAuth = _b.googleAuth, googleAuthError = _b.error;\n    var _c = react_1.useState(((_a = googleAuth === null || googleAuth === void 0 ? void 0 : googleAuth.currentUser) === null || _a === void 0 ? void 0 : _a.get()) || null), currentUser = _c[0], setCurrentUser = _c[1];\n    var _d = react_1.useState(null), error = _d[0], setError = _d[1];\n    // Listen for changes in `currentUser`.\n    react_1.useEffect(function () {\n        if (googleAuth) {\n            try {\n                googleAuth.currentUser.listen(function (user) { return setCurrentUser(user); });\n            }\n            catch (e) {\n                setError(e);\n            }\n        }\n    }, [googleAuth]);\n    return {\n        error: gApiError || googleAuthError || error,\n        currentUser: currentUser,\n    };\n};\nexports.useGoogleUser = useGoogleUser;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,aAAa,GAAG,KAAK,CAAC;AAC9B,IAAIC,OAAO,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC9B,IAAIC,cAAc,GAAGD,OAAO,CAAC,gBAAgB,CAAC;AAC9C,IAAIE,eAAe,GAAGF,OAAO,CAAC,iBAAiB,CAAC;AAChD;AACA;AACA;AACA;AACA;AACA,IAAIF,aAAa,GAAG,SAAAA,CAAA,EAAY;EAC5B,IAAIK,EAAE;EACN,IAAIC,SAAS,GAAG,CAACH,cAAc,CAACI,cAAc,CAAC,CAAC,IAAI,CAAC,CAAC,EAAEC,KAAK;EAC7D,IAAIC,EAAE,GAAGL,eAAe,CAACM,aAAa,CAAC,CAAC;IAAEC,UAAU,GAAGF,EAAE,CAACE,UAAU;IAAEC,eAAe,GAAGH,EAAE,CAACD,KAAK;EAChG,IAAIK,EAAE,GAAGZ,OAAO,CAACa,QAAQ,CAAC,CAAC,CAACT,EAAE,GAAGM,UAAU,KAAK,IAAI,IAAIA,UAAU,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACI,WAAW,MAAM,IAAI,IAAIV,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACW,GAAG,CAAC,CAAC,KAAK,IAAI,CAAC;IAAED,WAAW,GAAGF,EAAE,CAAC,CAAC,CAAC;IAAEI,cAAc,GAAGJ,EAAE,CAAC,CAAC,CAAC;EACrN,IAAIK,EAAE,GAAGjB,OAAO,CAACa,QAAQ,CAAC,IAAI,CAAC;IAAEN,KAAK,GAAGU,EAAE,CAAC,CAAC,CAAC;IAAEC,QAAQ,GAAGD,EAAE,CAAC,CAAC,CAAC;EAChE;EACAjB,OAAO,CAACmB,SAAS,CAAC,YAAY;IAC1B,IAAIT,UAAU,EAAE;MACZ,IAAI;QACAA,UAAU,CAACI,WAAW,CAACM,MAAM,CAAC,UAAUC,IAAI,EAAE;UAAE,OAAOL,cAAc,CAACK,IAAI,CAAC;QAAE,CAAC,CAAC;MACnF,CAAC,CACD,OAAOC,CAAC,EAAE;QACNJ,QAAQ,CAACI,CAAC,CAAC;MACf;IACJ;EACJ,CAAC,EAAE,CAACZ,UAAU,CAAC,CAAC;EAChB,OAAO;IACHH,KAAK,EAAEF,SAAS,IAAIM,eAAe,IAAIJ,KAAK;IAC5CO,WAAW,EAAEA;EACjB,CAAC;AACL,CAAC;AACDjB,OAAO,CAACE,aAAa,GAAGA,aAAa"},"metadata":{},"sourceType":"script","externalDependencies":[]}