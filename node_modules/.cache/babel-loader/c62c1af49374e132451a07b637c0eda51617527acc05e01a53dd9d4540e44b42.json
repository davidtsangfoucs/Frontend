{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useAuthorize = void 0;\nvar react_1 = require(\"react\");\nvar GApiProvider_1 = require(\"./GApiProvider\");\n/**\n * Declarative wrapper around `gapi.auth2.authorize`, read more here {@link https://developers.google.com/identity/sign-in/web/reference#gapiauth2authorizeparams_callback}\n *\n * Performs a one time OAuth 2.0 authorization.\n * Depending on the parameters used, this will open a popup to the Google\n * sign-in flow or try to load the requested response silently, without user interaction.\n */\nvar useAuthorize = function (authorizeConfig) {\n  var context = GApiProvider_1.useGApiContext();\n  var _a = react_1.useState(null),\n    error = _a[0],\n    setError = _a[1];\n  var _b = react_1.useState(null),\n    authorizeResponse = _b[0],\n    setAuthroizeResponse = _b[1];\n  if (!context) {\n    throw Error(\"Must use `useAuthorize` inside of `GoogleAuthProvider`\");\n  }\n  react_1.useEffect(function () {\n    try {\n      gapi.auth2.authorize(authorizeConfig, function (res) {\n        if (res.error) {\n          setError(Error(res.error_subtype + \", \" + res.error));\n        }\n        setAuthroizeResponse(res);\n      });\n    } catch (e) {\n      setError(e);\n    }\n  }, [authorizeConfig]);\n  return {\n    error: context.error || error,\n    authorizeResponse: authorizeResponse\n  };\n};\nexports.useAuthorize = useAuthorize;","map":{"version":3,"names":["Object","defineProperty","exports","value","useAuthorize","react_1","require","GApiProvider_1","authorizeConfig","context","useGApiContext","_a","useState","error","setError","_b","authorizeResponse","setAuthroizeResponse","Error","useEffect","gapi","auth2","authorize","res","error_subtype","e"],"sources":["/Users/david/Documents/GitHub/web-api/client/node_modules/react-gapi-auth2/dist/useAuthorize.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useAuthorize = void 0;\nvar react_1 = require(\"react\");\nvar GApiProvider_1 = require(\"./GApiProvider\");\n/**\n * Declarative wrapper around `gapi.auth2.authorize`, read more here {@link https://developers.google.com/identity/sign-in/web/reference#gapiauth2authorizeparams_callback}\n *\n * Performs a one time OAuth 2.0 authorization.\n * Depending on the parameters used, this will open a popup to the Google\n * sign-in flow or try to load the requested response silently, without user interaction.\n */\nvar useAuthorize = function (authorizeConfig) {\n    var context = GApiProvider_1.useGApiContext();\n    var _a = react_1.useState(null), error = _a[0], setError = _a[1];\n    var _b = react_1.useState(null), authorizeResponse = _b[0], setAuthroizeResponse = _b[1];\n    if (!context) {\n        throw Error(\"Must use `useAuthorize` inside of `GoogleAuthProvider`\");\n    }\n    react_1.useEffect(function () {\n        try {\n            gapi.auth2.authorize(authorizeConfig, function (res) {\n                if (res.error) {\n                    setError(Error(res.error_subtype + \", \" + res.error));\n                }\n                setAuthroizeResponse(res);\n            });\n        }\n        catch (e) {\n            setError(e);\n        }\n    }, [authorizeConfig]);\n    return {\n        error: context.error || error,\n        authorizeResponse: authorizeResponse,\n    };\n};\nexports.useAuthorize = useAuthorize;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,YAAY,GAAG,KAAK,CAAC;AAC7B,IAAIC,OAAO,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC9B,IAAIC,cAAc,GAAGD,OAAO,CAAC,gBAAgB,CAAC;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIF,YAAY,GAAG,SAAAA,CAAUI,eAAe,EAAE;EAC1C,IAAIC,OAAO,GAAGF,cAAc,CAACG,cAAc,CAAC,CAAC;EAC7C,IAAIC,EAAE,GAAGN,OAAO,CAACO,QAAQ,CAAC,IAAI,CAAC;IAAEC,KAAK,GAAGF,EAAE,CAAC,CAAC,CAAC;IAAEG,QAAQ,GAAGH,EAAE,CAAC,CAAC,CAAC;EAChE,IAAII,EAAE,GAAGV,OAAO,CAACO,QAAQ,CAAC,IAAI,CAAC;IAAEI,iBAAiB,GAAGD,EAAE,CAAC,CAAC,CAAC;IAAEE,oBAAoB,GAAGF,EAAE,CAAC,CAAC,CAAC;EACxF,IAAI,CAACN,OAAO,EAAE;IACV,MAAMS,KAAK,CAAC,wDAAwD,CAAC;EACzE;EACAb,OAAO,CAACc,SAAS,CAAC,YAAY;IAC1B,IAAI;MACAC,IAAI,CAACC,KAAK,CAACC,SAAS,CAACd,eAAe,EAAE,UAAUe,GAAG,EAAE;QACjD,IAAIA,GAAG,CAACV,KAAK,EAAE;UACXC,QAAQ,CAACI,KAAK,CAACK,GAAG,CAACC,aAAa,GAAG,IAAI,GAAGD,GAAG,CAACV,KAAK,CAAC,CAAC;QACzD;QACAI,oBAAoB,CAACM,GAAG,CAAC;MAC7B,CAAC,CAAC;IACN,CAAC,CACD,OAAOE,CAAC,EAAE;MACNX,QAAQ,CAACW,CAAC,CAAC;IACf;EACJ,CAAC,EAAE,CAACjB,eAAe,CAAC,CAAC;EACrB,OAAO;IACHK,KAAK,EAAEJ,OAAO,CAACI,KAAK,IAAIA,KAAK;IAC7BG,iBAAiB,EAAEA;EACvB,CAAC;AACL,CAAC;AACDd,OAAO,CAACE,YAAY,GAAGA,YAAY"},"metadata":{},"sourceType":"script","externalDependencies":[]}